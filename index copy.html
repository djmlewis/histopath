<!--***************************************************************************
  * Copyright (c) 13/11/2021 2:28     djml.uk E&OE.                           *
  ***************************************************************************-->
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Histopathology Picture Quiz</title>
    <link rel="shortcut icon" type="image/png" href="favicon4.png?v=3"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!--  BOOTSTRAP -->
    <!-- jQ comes first -->
    <script src="js/jquery-3.4.1.min.js" defer></script>
    <!-- boostsrap bundle includes popper -->
    <script src="js/bootstrap.bundle.min.js" defer></script>
    <link rel="stylesheet" href="css/vendor/bootstrap.css"/>
    <!-- FA ICONS -->
    <link rel="stylesheet" href="FontAwesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="FontAwesome/css/regular.min.css">
    <link rel="stylesheet" href="FontAwesome/css/solid.min.css">
    <!--  Normalize  -->
    <link rel="stylesheet" href="css/vendor/normalize.1.css">
    <!--  my CSS -->
    <link rel="stylesheet" href="css/myCSS.25.css">
    <link rel="stylesheet" href="css/userguide.2.css">
    <!--  my startup code-->
    <!--    Objects first as globals uses a CardsetCollection.addcardset() call we can defer as run in order-->
    <script src="myscripts/objects.3.js" defer></script>
    <script src="myscripts/imgCaptionsObj.16.js" defer></script>
    <!--    Globals next and utilities-- -->
    <script src="myscripts/globals.11.js" defer></script>
    <script src="myscripts/db.2.js" defer></script>
    <script src="myscripts/utilities.4.js" defer></script>
    <script src="myscripts/sheets.41.js" defer></script>
    <!--    ****** CHANGE ME in the R scripts !! version strings-->
    <script>
        window.indicesversionStr = "255";
        window.topicsversionStr = "126";
    </script>
    <!--    The collection objects  !!! Always DEFER these to allow libs to laod !!!  -->
    <!--    The order they appear here is the order on the dropdown  -->
    <script src="collections/Picture%20Quiz.20.js" defer></script>

    <!--    The rest-->
    <script src="myscripts/answers.24.js" defer></script>
    <script src="myscripts/selectEvents.5.js" defer></script>
    <script src="myscripts/cardFunctions.18.js" defer></script>
    <script src="myscripts/settings.8.js" defer></script>
    <script src="myscripts/headScripts.21.js" defer></script>
    <!-- MUST DOWNLOAD LAST -->

    <!--  my startup code-->

    <!--    Other Scripts-->

</head>

<body style="overflow: hidden;!important; height: 100vh; padding: 4px 0 12px 0; margin:0">
<div id="div-mainpage" style="height: 100%; max-height: 100%;">
    <div class="d-flex flex-column">
        <div id="toolbar-row1" class="mx-1">
            <div class="input-group" style="background-color: transparent;">
                <button hidden type="button" class="btn btn-outline-primary mr-1"
                        id="btn-sidebartoggle"
                        title="Hide Diagnoses Index sidebar"
                        onclick="toggleSidebar();">
                    <i class="fas fa-columns"></i>
                </button>
                <button hidden type="button" class="btn btn-primary mr-1"
                        title="Show Family/Genera or Species Index in window"
                        onclick="showSheet('sheet-groupings');">
                    <i class="fas fa-book"></i>
                </button>
                <button id="btn-help-toolbox" class="btn btn-outline-dark mr-1" type="button"
                        onclick="toggleUserGuide('UserGuide_top');"
                        title="Show Helpâ€¦"><i class="fas fa-info fa-fw"></i></button>
                <label hidden for="select-cardsset"></label>
                <select hidden name="selectcardsset" class="custom-select btn-cardsset rounded-sm mr-1"
                        id="select-cardsset"
                        title="Select cardset to view"></select>
                <label for="select-chapters"></label>
                <select name="selectchapters" class="custom-select btn-chapter rounded-sm mr-1"
                        id="select-chapters"
                        title="Select chapter to view"></select>
                <label hidden for="select-cards"></label>
                <select name="selectcards" class="custom-select btn-cards rounded-sm mr-1" id="select-cards"
                        title="Select card to view"></select>
                <button type="button" class="btn btn-cards mr-1"
                        title="Show/Hide card title menu"
                        onclick="showHideCardSelect()">
                    <i class="fas fa-low-vision"></i>
                </button>
                <div class="btn-group">
                    <button id="btn_card-prev" type="button" class="btn btn-cards" value="-1"
                            title="Previous card in chapter"
                            onclick="changeCardIndex(this)">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button id="btn_card-next" type="button" class="btn btn-cards" value="1"
                            title="Next card in chapter"
                            onclick="changeCardIndex(this)">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="toolbar-row2" class="d-flex flex-row justify-content-between align-items-center flex-wrap mx-1 mt-1">
            <div id="col-slider-image-Width" class="col-slider">
                <label hidden for="slider-image-Width"></label>
                <input type="range" class="form-control-range" id="slider-image-Width"
                       title="Adjust image width"
                       min="10" max="70" step="10" value="50"
                       oninput="handleSliderImageWidthChanged(this)">
            </div>
            <div class="d-flex flex-row align-items-center flex-wrap">
                <button type="button" class="btn btn-sm btn-outline-primary mr-1"
                        id="btn-fullscreen"
                        style="visibility: hidden;"
                        onclick="showSheet('sheet-fullscreen');"
                        title="Fullscreen images">
                    <i class="fas fa-expand-alt"></i></button>
                <div>
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend">
                            <button class="btn btn-sm btn-primary" type="button" id="button-addon1"
                                    onclick="randomiseBtnClicked();"
                            >Randomise
                            </button>
                            <div id="inputgp-statuscbxs" class="input-group-text bg-white">
                                <div class="custom-control custom-switch text-secondary mr-1">
                                    <input class="custom-control-input" type="checkbox"
                                           name="checkbox-randomiseUntested"
                                           id="checkbox-randomiseUntested" data-status="untested"
                                           value="true" checked onclick="randomiseCBXclicked();">
                                    <label class="custom-control-label" for="checkbox-randomiseUntested"><i
                                            class="fas fa-question-circle"></i></label>
                                </div>
                                <div class="custom-control custom-switch text-danger mx-1">
                                    <input class="custom-control-input" type="checkbox"
                                           name="checkbox-randomiseIncorrect"
                                           id="checkbox-randomiseIncorrect" data-status="incorrect"
                                           value="true" checked onclick="randomiseCBXclicked();">
                                    <label class="custom-control-label" for="checkbox-randomiseIncorrect"><i
                                            class="fas fa-times-circle"></i></label>
                                </div>
                                <div class="custom-control custom-switch text-success mx-1">
                                    <input class="custom-control-input" type="checkbox" name="checkbox-randomiseCorrect"
                                           id="checkbox-randomiseCorrect" data-status="correct"
                                           value="true" checked onclick="randomiseCBXclicked();">
                                    <label class="custom-control-label" for="checkbox-randomiseCorrect"><i
                                            class="fas fa-check-circle"></i></label>
                                </div>
                                <div class="custom-control custom-switch text-warning mx-1">
                                    <input class="custom-control-input" type="checkbox" name="checkbox-randomiseStar"
                                           id="checkbox-randomiseStar" data-status="star"
                                           value="true" checked onclick="randomiseCBXclicked();">
                                    <label class="custom-control-label" for="checkbox-randomiseStar"><i
                                            class="fas fa-star"></i></label>
                                </div>
                            </div>
                        </div>
                        <div class="input-group-append">
                            <span id="span-randomSlideCount" class="input-group-text text-right"></span>
                            <button type="button" class="btn btn-sm btn-primary"
                                    onclick="btnRandomClicked();"
                                    title="Click to select next random card from current chapter">
                                <i class="fas fa-random"></i>&nbsp;Next Image</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="btngp-status" class="btn-group btn-group-sm">
                <button id="btnstatus-untested" type="button" class="btn btn-secondary"
                        onclick="btnStatusClicked('untested');"
                        title="Set status as untested">
                    <i class="fas fa-question-circle"></i>
                </button>
                <button id="btnstatus-incorrect" type="button" class="btn btn-outline-danger"
                        onclick="btnStatusClicked('incorrect');"
                        title="Set status as incorrect">
                    <i class="fas fa-times-circle"></i>
                </button>
                <button id="btnstatus-correct" type="button" class="btn btn-outline-success"
                        onclick="btnStatusClicked('correct');"
                        title="Set status as correct">
                    <i class="fas fa-check-circle"></i>
                </button>
                <button id="btnstatus-star" type="button" class="btn btn-outline-warning"
                        onclick="btnStatusClicked('star');"
                        title="Set status as starred">
                    <i class="fas fa-star"></i>
                </button>
                <button class="btn btn-outline-dark btn-sm dropdown-toggle" type="button" data-toggle="dropdown"><i
                        class="fas fa-eraser"></i></button>
                <div class="dropdown-menu" style="z-index:10000;">
                    <button class="dropdown-item text-danger" type="button"
                            onclick="btnClearStatusClicked('chapter');"
                            title="Unmark all cards in this chapter">
                        Unmark this chapter
                    </button>
                    <button class="dropdown-item text-danger" type="button"
                            onclick="btnClearStatusClicked('cardset');"
                            title="Unmark all cards in this cardset">
                        Unmark this cardset
                    </button>
                </div>
            </div>
        </div>
        <div id="row-image" class="flex-grow-1 d-flex flex-row flex-nowrap mt-1">
            <div hidden id="div-species-sidebar" class="flex-shrink-1 divspeciessidebar stripedparas" style="overflow-y: auto;"></div>
            <div id="col-image" class="flex-grow-1"
                 style="width: 50%; max-width: 50%; min-width: 50%;overflow-y: auto;">
                <div class="d-flex align-items-center justify-content-between sticky-top pr-3" style="min-height: 40px">
                    <div class="ml-2 flex-shrink-1 d-flex  flex-wrap">
                        <div class="text-secondary"> Hide caption on load:</div>
                        <div class="custom-control custom-switch ml-2 border-secondary" title="Hide image captions initially">
                            <input class="custom-control-input" type="checkbox" name="checkbox-testButtons"
                                   id="checkbox-initiallyHideCap" checked
                                   value="true" onclick="checkboxInitiallyHideClicked(this,'captions');">
                            <label class="custom-control-label" for="checkbox-initiallyHideCap">
                                <i class="fas fa-closed-captioning"></i></label>
                        </div>
                    </div>
                    <div class="text-secondary text-sm" > Click the grey caption bar to show/hide image title</div>
                </div>
                <div id="div-image-card"
                     class="d-flex flex-row flex-wrap align-items-start justify-content-center"></div>
            </div>
            <div id="div-legendouter" class="flex-grow-1" style="overflow-y: auto; overflow-x:hidden;">
                <div class="d-flex align-items-center justify-content-between sticky-top"
                     style="background-color: white; min-height: 40px">
                    <div class="ml-2 flex-shrink-1 d-flex  flex-wrap">
                        <div class="text-secondary"> Hide text on load:</div>
                        <div class="custom-control custom-switch mx-1" title="Hide text initially">
                            <input class="custom-control-input" type="checkbox" name="checkbox-testButtons"
                                   id="checkbox-initiallyHideT" checked
                                   value="true" onclick="checkboxInitiallyHideClicked(this,'text');">
                            <label class="custom-control-label" for="checkbox-initiallyHideT" title="Hide text initially"><i
                                    class="fas fa-list-ul"></i></label>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <div class="text-secondary text-sm-right">Click buttons to show/hide all rows text:&nbsp;</div>
                        <div class="btn-group btn-group-sm flex-shrink-0 m-1">
                            <button type="button" class="btn btn-outline-secondary"
                                    onclick="toggleLegendTextItemsVisibility(this,'hidden');"
                                    title="Show only labels">
                                <i class="fas fa-ellipsis-v fa-fw"></i></button>
                            <button type="button" class="btn btn-outline-secondary"
                                    onclick="toggleLegendTextItemsVisibility(this,'visible');"
                                    title="Reveal all text">
                                <i class="fas fa-list-ul fa-fw"></i></button>
                        </div>
                    </div>
                </div>
                <div id="div-revealAnswers" class="divrevealAnswers mt-1"></div>
                <div class="text-secondary text-sm-left">Click labels in left column to reveal text in that row</div>
            </div>
        </div>
    </div>
</div><!--  mainpage-->
<div hidden id="sheet-zoom" class="">
    <button type="button" class="btn btn-danger btn-sm sticky-top float-right"
            onclick="hideSheetZoom(true);"
            title="Close">
        <i class="fa fa-times"></i>
    </button>
    <div id="carouselZoomImg" class="carousel slide bg-primary" style="position: absolute;top: 0;left: 0; height: 100vh; width: 100vw;" data-interval="false" data-ride="false">
        <div id="carouselZoomImg-inner" class="carousel-inner" style="height: 100%;overflow-x: hidden;overflow-y: auto; background-color: #f0f0f0;"></div>
        <ol hidden id="carouselZoomImg-indicators" class="carousel"></ol>
        <a hidden class="carousel-control-prev" href="#carouselZoomImg" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a hidden class="carousel-control-next" href="#carouselZoomImg" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
</body>
<div hidden id="div-sheetholder" class="sheetholder"></div>

<div hidden id="div-sheets">
    <!--    INDEX -->
    <div id="sheet-groupings" class="sheets-div">
        <div class="sheets-body">
            <div class="sheets-header sheets-header-sticky bg-white">
                <div id="div-indexradios" class="btn-group btn-group-toggle ml-2" data-toggle="buttons">
                    <label class="btn btn-outline-dark active"  id="radio-groupings">
                        <input type="radio" name="options" autocomplete="off" checked>Families/Genera A-Z
                    </label>
                    <label class="btn btn-outline-dark"  id="radio-species">
                        <input type="radio" name="options" autocomplete="off">Species A-Z
                    </label>
                    <label class="btn btn-outline-dark"  id="radio-taxogenera">
                        <input type="radio" name="options" autocomplete="off">Families/Genera Taxon
                    </label>
                    <label class="btn btn-outline-dark"  id="radio-taxospecies">
                        <input type="radio" name="options" autocomplete="off">Species Taxon
                    </label>
                </div>
                <button type="button" class="btn btn-danger btn-sm mr-3"
                        onclick="hideSheet('sheet-groupings');"
                        title="Close">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div id="div-groupings" class="divgroupings"></div>
            <div hidden id="div-species" class="divspecies"></div>
            <div hidden id="div-taxogenera" class="divtaxogenera"></div>
            <div hidden id="div-taxospecies" class="divtaxospecies"></div>
        </div>
    </div>
    <!--    IMAGES fullscreen -->
    <div id="sheet-fullscreen" class="sheet-fullscreen">
        <div class="sheets-body">
            <div class="sheets-header sheets-header-sticky justify-content-between sheetFullscreenHeader mx-2">
                <div class="flex-shrink-1 d-flex  flex-wrap">
                    <div class="">Hide:</div>
                    <div class="custom-control custom-switch border-secondary"
                         title="Hide image captions initially">
                        <input class="custom-control-input" type="checkbox" name="checkbox-testButtons"
                               id="checkbox-initiallyHideCap-fullscreen"
                               value="true" onclick="checkboxInitiallyHideClicked(this,'captions');">
                        <label class="custom-control-label" for="checkbox-initiallyHideCap-fullscreen">
                            <i class="fas fa-closed-captioning"></i></label>
                    </div>
                </div>
                <div id="btngp-status-fullscreen" class="btn-group btn-group-sm">
                    <button id="btnstatus-untested-fullscreen" type="button" class="btn btn-secondary"
                            onclick="btnStatusClicked('untested');"
                            title="Set status as untested">
                        <i class="fas fa-question-circle"></i>
                    </button>
                    <button id="btnstatus-incorrect-fullscreen" type="button" class="btn btn-outline-danger"
                            onclick="btnStatusClicked('incorrect');"
                            title="Set status as incorrect">
                        <i class="fas fa-times-circle"></i>
                    </button>
                    <button id="btnstatus-correct-fullscreen" type="button" class="btn btn-outline-success"
                            onclick="btnStatusClicked('correct');"
                            title="Set status as correct">
                        <i class="fas fa-check-circle"></i>
                    </button>
                    <button id="btnstatus-star-fullscreen" type="button" class="btn btn-outline-warning"
                            onclick="btnStatusClicked('star');"
                            title="Set status as starred">
                        <i class="fas fa-star"></i>
                    </button>
                </div>
                <div>
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend">
                            <button class="btn btn-sm btn-primary" type="button"
                                    onclick="randomiseBtnClicked();"
                            >Randomise
                            </button>
                        </div>
                        <div class="input-group-append">
                            <span id="span-randomSlideCount-fullscreen" class="input-group-text text-right"></span>
                            <button type="button" class="btn btn-sm btn-primary"
                                    onclick="btnRandomClicked();"
                                    title="Click to select next random card from current chapter">
                                <i class="fas fa-random"></i>&nbsp;Next Image</button>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-danger btn-sm"
                        onclick="hideSheet('sheet-fullscreen');"
                        title="Close">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div id="div-image-card-fullscreen"
                 class="d-flex flex-row flex-wrap align-items-start justify-content-center"></div>
        </div>
    </div>
</div>

</html>
